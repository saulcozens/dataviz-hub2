---
author: ["Y.L Weng"]
title: "How to upload a blog post - v1.3"
thumbnail: ./temp.jpg
description: "(UPDATED on 06 May 2020) This is a template for blog posts. This website is built from Gatsby framework and the way of styling is slightly different from HTML/CSS. "
date: "2020-03-22"
category: ["Tutorial", "News"]
tag: ["Blog", "Markdown"]
template: "false"
featured: "false"
---


# Introduction
(UPDATED on 06 May 2020) This is a template for blog posts. This website is built from <a href="https://www.gatsbyjs.org/">Gatsby</a> framework and the way of styling is slightly different from HTML/CSS. 
You can write posts use <a href="https://www.markdownguide.org/basic-syntax/">markdown</a> or/and HTML/CSS. 
A copy of this blog file is available <a href="./index.mdx">here</a>.

<br />

# Setup

If you want to preview the post while you're writing, then you'll need to setup a gatsby development environment in order to preview the website. If not, go to <a href="#write-a-post">next section</a>.

  ## Installation
  1. For Windows users, Download and install the latest Node.js version from <a href="https://nodejs.org/en/">the official Node.js website</a>. 
  For other OS visit <a href="https://www.gatsbyjs.org/tutorial/part-zero/#install-nodejs-for-your-appropriate-operating-system">here</a>. (You might also need to download Visual Studio installer to install node.js development tools).
  
  2. Install <a href="https://gitforwindows.org/">Git</a>. 
  
  3. Install Gatsby CLI by running  `npm install -g gatsby-cli`

  4. Fork this repository and open up your Git Bash (and navigate to a directory you want to place the site) and run:
    
    ```
    git clone https://github.com/yourusername/dataviz-hub2.git
    cd dataviz-hub2
    npm install                                                 //install dependencies
    cd plugins/gatsby-source-eventbrite-multi-accounts
    npm install                                                 //install plugin dependencies
    ```

  5. Create a new local branch with commands **git checkout master** (make sure you're in master branch), **git branch newBranchName** (create a new branch from master), and **git checkout newBranchName** (switch to new branch).
    Now make any commits you wish to.

## Note
  At step 4, If you have write permission for the origin repository, then you could just create a new branch in the origin repository and clone it. 
  If you have <b>Github Desktop</b> installed then just clone the repository into your computer and under the repository you would need to use Git Bash to run **npm install** etc.




```
If you have cloned the repository a while a ago, 
fetch the latest commits from origin repository:

git checkout master
git pull upstream master
```

<br />
<br />

# Write a post
If you didn't setup, skip the following text and look at steps to write a post.  
Once you've setup, run `gatsby develop`.
Now you can view the site at `http://localhost:8000/`. Any changes you made to posts locally will be updated instantly on preview. Press `Ctrl + C` if you want to stop the server running locally.

To contribute, raise an issue on GitHub or make a pull request that adds or modifies files in the `/content/blog/` directory. 
You will probably want to install Gatsby so that you can test your contribution before submitting it. Steps on below assuming you've setup everything mentioned above. 

1. Make a new directory under the `/content/blog/` directory, give a name (e.g. a keyword relevant to your post). If you didn't setup, create the directory anywhere you wish to.

---

2. Create a file `index.mdx` (or with .md extension, but we recommend use .mdx because it’s a superset of Markdown syntax that also supports importing, exporting, and JSX. <a href="https://mdxjs.com/">learn more about mdx</a>). 

    + At the very beginning of your index file, you have the following parameters to specify in the **header**:

```md
---
title: "This is a template for posts"
author: ["A", "B"]                   
date: "2020-03-06"                             // please use Y-M-D format required by mdx syntax, if the post belongs to "Events" category, then probably use the event date rather than the written date
description: "Shown at blog page"
category: "Articles"				                   // one category only, use pre-set categories: "Articles", "News", "Tutorials", "Events"
tag: ["Blog", "The University of Sheffield"]   // make sure tags & cate are capitalised
thumbnail: ./image.jpg                         // an image to use for your post thumbnail
template:                                      // optional, if set to "custom", you would need to design your own post page except from header and footer of the website.
featured: "True"					                     // Set it to "True" if you want show the post on home page
---
```

<br />

  + Wrap parameters with triple hyphens. Use double quotation marks for all text, use square brackets in parameters with two or more items.

  + Then add content to the file, read <a href="#table-of-content">next section</a> and beyond to know more about how to style your post.

  + (**Compulsory** for your first post): On first time you're required to add your name, email and avatar to the file **author.json** located at `dataviz-hub2/src/author`, otherwise author info will not be shown on the post (and the website produce errors).
  Format: 

```json
...
},                                 // Make sure you've added comma after the previous right curly bracket
{                                  // Start with left curly bracket     
  "name": "New Author",            // The exact same name you've put in mdx file, use same name for all mdx file consistently
  "avatar": "./default.jpg",       // If you want to add your own avatar, place it under the same folder and replace default.jpg with your image name and extension
  "email": "youremail@email.com"    
}                                  // No comma
```


<br />

---

3. Copy any other resources required for the post to the current directory. For example, if you want to include an image `post.jpg` then the file path for it would be `/content/blog/yourdirname/post.jpg`. Sections below will tell you how to embed images and videos.

4. Commit any changes you've made. If you didn't setup, see *Upload through github.com* section.

5. Now create a pull request. If it comes from a fork repository, [read here](https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request-from-a-fork).
If it comes from a branch in origin repository, [read here](https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request#changing-the-branch-range-and-destination-repository).

<br />

## Upload through github.com

If you do not want to setup the environment, you can write a post by upload **index.mdx** file and any resources related to the post on Github too. To do this,  

  1. Go to *https://github.com/researchdata-sheffield/dataviz-hub2* and click on content/blog directory.  
    
  2. Click the *Create new file* button on the top right, and type `folder_name/index.mdx` in the **name your file...** box, this will create a new directory with the name - `folder_name` 
  of your choice (make sure this name is not exists).  
    
  3. Copy contents of your local **index.mdx** file into the box below. Fill in all the details under the **Propose new file** section and submit. Now Github has already forked the project for you and you're on the **Comparing changes** page.  

  4. If you don't have any other files (images etc.) to upload, click on **Create pull request** button, complete the form and submit (and you're done). Otherwise ignore this and go to your own *dataviz-hub2* repository. 
    
  5. Once you're in forked repository page, you'll see github has created a new branch *patch-1* for you. Select this branch and go to the directory you've created e.g. **content/blog/folder_name/**.  
    
  6. Upload all neccessary files and commit directly to the *patch-1* branch. Once this was done, go to *https://github.com/researchdata-sheffield/dataviz-hub2* and click on **Compare & pull request**, complete the form and submit.  
     
<br />

# Table of content

If you have created headings using markdown syntax like below:
```
# table of content
Write something

## Subtitle
...

# Another Title
...

## Another Title - subtitle
...
```

then this website will automatically create a table of content list for you on the right hand side of the post.
<br /><br />

# Styling

There are many ways to add styles to your md/mdx elements, in here we listed two methods to do this. 

1. Use the style attribute as usual with slightly different syntax:

```html{7-10}
In HTML we normally style a div tag like this:
<div style="font-size: 25px, display: flex">
  Write something
</div> 

-----------------------
In Gatsby we transform it into:
<div style={{fontSize: "25px", display: "flex"}}>
  Write something
</div>

For any declaration in HTML with hyphen, 
in Gatsby we remove the hyphen and capitalise the letter after the hyphen.
```

2. This website has integrated <b>tailwindcss</b> framework therefore you can style elements by applying <b>pre-existing classes</b> directly in your HTML. 
Explore [tailwindCSS](https://tailwindcss.com/docs/width) to see available classes you can utilise.
```html

// In Gatsby, class is replaced by className
An example of using tailwindCSS

<p className="text-3xl text-gray-500 mb-24">TAILwindCSS</p>

text-3xl: text size with 3xl.
text-gray-500: text color set to be gray with transparency of 500 (50% probably).
mb-24: bottom margin with size 24. 
```
Output:
<p className="text-3xl text-gray-500 mb-24">TAILwindCSS</p>



Of course you can also add your own class, just need to make sure all classes you've created need to be place in the file `dataviz-hub2/src/css/post.css`. Specificity is important, 
to avoid your classes being override by other styling plugins, add `body` before each class. Alternatively, use style attribute. 

<br />
<br />


# Code

To add inline code, surround your code by single backtick. 
```
`inline code`
```

For a code block, use triple backticks.

```md{6-7}
1```html
code block
1```

1 is for illustration, remove it in practice.
You can also specify what programming language after first triple backticks.
To highlight lines, specify line numbers within curly brackets after triple backticks.

1```js{1-2, 4, 5, 6}
code
1```
```

<br />

# TeX math
There are two ways to write math formulas and math symbols. For inline mode, surround your equation with $ to generate a math equation.
```
$a^2 + b^2 = c^2$
```
generates $a^2 + b^2 = c^2$.  

For display mode, surround your equation with $$ and new-lines to generate a math equation.
```
$$
\frac{1}{\sigma \sqrt{2 \pi}} e^{-\frac{1}{2}(\frac{x- \mu}{\sigma})^{2}}
$$
```
generates
$$
\frac{1}{\sigma \sqrt{2 \pi}} e^{-\frac{1}{2}(\frac{x- \mu}{\sigma})^{2}}
$$

<br />

# Internal website link
The post you're writing might be a part of your blog series, and if you wish to include link of previous posts (or any other part of the website) within a post, you'll need **Link** tag.
To use **Link** tag:  
1. Make sure the file extension is .mdx  
2. Under the header, insert `import { Link } from "gatsby"` and surround it with empty lines.  
3. Use *to* parameter instead of *href*, for internal pages you don't need to specify hostname (dataviz.shef.ac.uk):  
   `<Link className="text-gray-700" to="/blog">To blog</Link>`

<br />

# Image
This is how you would embed add an local image (remember to add your images in the same directory of your md/mdx file):

```md
![my image description](./temp.jpg)
```

Alternatively: 

```md
<img alt="my image description" src="./temp.jpg" />
```

To add caption for image: 

```jsx
![my image description](./temp.jpg)        
*This is my image caption*
```
Make sure you pressed SPACE key twice followed by ENTER key after the closing bracket, if successful captions should had become italic:

![my image description](./temp.jpg)  
*This is my image caption*  
  

Alternatively (so you can add style for images):
```jsx
<img style={{marginLeft: "-100px", border: "solid 4px #00aeef", height: "300px", width: "550px"}} src="./temp.jpg" /><br />
<em>image_caption</em>
```

<img style={{marginLeft: "-100px", border: "solid 4px #00aeef", height: "300px", width: "550px"}} src="./temp.jpg" /><br />
<em>image_caption</em>


  
For images available online use their url.

<br />

# Embed well known services
You can embed many services (like CodePen, CodeSandbox, GIPHY, Instagram, Lichess, Slides, SoundCloud, Spotify, Streamable, Twitch, Twitter or YouTube) into blog posts by their URLs. 
Please ensure the URLs are wrapped by empty lines.

This is how you would embed a youtube video:

```md
`video: https://www.youtube.com/watch?v=N5yRLFcbv4s`
or 
https://www.youtube.com/watch?v=dKno6ojJd_Q
```

Note: you can't styling videos at the moment.
`video: https://www.youtube.com/watch?v=N5yRLFcbv4s`
for more informtion about embedding videos using the first option, visit  <a href="https://www.gatsbyjs.org/packages/gatsby-remark-embed-video/#usage" target="_blank" rel="noreferrer noopener">here</a>.

https://www.youtube.com/watch?v=dKno6ojJd_Q


Embed twitter:
```md
https://twitter.com/OpenResShef/status/1255448310271356932
or 
On Twitter, find the tweet you'd like to display.
In the top right-hand corner of the tweet, click the caret (∨) and select "Embed tweet".
Take the code you're given and copy it into your markdown page.

Note: when copying the embed code, copy only the blockquote section and not the script.
<blockquote class="twitter-tweet">
<p lang="en" dir="ltr">UKRI-funded researchers will know that the current open access policy only applies to journal articles &amp; conference proceedings - the new one will also apply 
to monographs, edited collections &amp; chapters 📚 (so particular heads up to our A&amp;H and social sciences researchers)</p>&mdash; Open Research TUoS (@OpenResShef) 
<a href="https://twitter.com/OpenResShef/status/1255448311953309702?ref_src=twsrc%5Etfw">April 29, 2020</a>
</blockquote> 

To center the twitter card, use second option and wrap it with DIV with className "flex justify-center"
```
https://twitter.com/OpenResShef/status/1255448310271356932

<div className="flex justify-center">
<blockquote class="twitter-tweet">
  <p lang="en" dir="ltr">We&#39;re running an online consultation on 5th May to gather feedback on proposed changes to the UKRI open access policy - Sheffield researchers (incl. PGRs) sign up using the link below, and see our thread for more info 👇 
    <a href="https://t.co/WEmd2E31AN">https://t.co/WEmd2E31AN</a>
  </p>&mdash; Open Research TUoS (@OpenResShef) 
    <a href="https://twitter.com/OpenResShef/status/1255448310271356932?ref_src=twsrc%5Etfw">April 29, 2020</a>
</blockquote> 
</div>

<br />

Embed codepen:

https://codepen.io/melvinidema/pen/ExVXzML


Embed CodeSandbox:
```
// Add "?view=split" to the end
https://codesandbox.io/s/ynn88nx9x?view=split
```

https://codesandbox.io/s/ynn88nx9x?view=split


<br /><br />

# Files
To make a file available to readers, place the file under the post directory and add something like this:

```
<a href="./filename.pdf">Download</a>
```
